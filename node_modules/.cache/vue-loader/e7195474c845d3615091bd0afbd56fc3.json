{"remainingRequest":"/Users/kou/Desktop/vue-form/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kou/Desktop/vue-form/src/pages/ItemInformation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kou/Desktop/vue-form/src/pages/ItemInformation.vue","mtime":1580440955002},{"path":"/Users/kou/Desktop/vue-form/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kou/Desktop/vue-form/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kou/Desktop/vue-form/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kou/Desktop/vue-form/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgUHJvY2Vzc0JhciBmcm9tICIuLi9jb21wb25lbnRzL21vbGVjdWxlcy9Qcm9jZXNzYmFyIjsKaW1wb3J0IEltYWdlVXBsb2FkIGZyb20gIi4vLi4vY29tcG9uZW50cy9tb2xlY3VsZXMvSW1hZ2VVcGxvYWQiOwppbXBvcnQgUmVxdWlyZVRhZyBmcm9tICIuLy4uL2NvbXBvbmVudHMvYXRvbXMvUmVxdWlyZVRhZyI7CmltcG9ydCBPcHRpb25UYWcgZnJvbSAiLi8uLi9jb21wb25lbnRzL2F0b21zL09wdGlvblRhZyI7CmltcG9ydCBUZXh0YXJlYU1vZGVsIGZyb20gIi4vLi4vY29tcG9uZW50cy9hdG9tcy9UZXh0YXJlYU1vZGVsIjsKaW1wb3J0IElucHV0VGV4dCBmcm9tICIuLy4uL2NvbXBvbmVudHMvYXRvbXMvSW5wdXRUZXh0IjsKaW1wb3J0IEl0ZW1DYXRlZ29yaWVzIGZyb20gIi4vLi4vY29tcG9uZW50cy9tb2xlY3VsZXMvSXRlbUNhdGVnb3JpZXMiOwppbXBvcnQgTmV4dEJ0biBmcm9tICIuLy4uL2NvbXBvbmVudHMvYXRvbXMvTmV4dEJ0biI7CmltcG9ydCB7IGV4dGVuZCwgVmFsaWRhdGlvblByb3ZpZGVyLCBWYWxpZGF0aW9uT2JzZXJ2ZXIgfSBmcm9tICJ2ZWUtdmFsaWRhdGUiOwppbXBvcnQgeyByZXF1aXJlZCB9IGZyb20gInZlZS12YWxpZGF0ZS9kaXN0L3J1bGVzIjsKCi8qIOW/hemgiOmgheebruOBruOCqOODqeODvOODoeODg+OCu+ODvOOCuOioreWumiAqLwpyZXF1aXJlZC5tZXNzYWdlID0gIntfZmllbGRffeOBr+W/hemgiOmgheebruOBp+OBmSI7CmV4dGVuZCgicmVxdWlyZWQiLCByZXF1aXJlZCk7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkl0ZW1JbmZvcm1hdGlvbiIsCiAgcHJvcHM6IFsiaXRlbV9pZCJdLAogIGNvbXBvbmVudHM6IHsKICAgIFByb2Nlc3NCYXIsCiAgICBJbWFnZVVwbG9hZCwKICAgIElucHV0VGV4dCwKICAgIFRleHRhcmVhTW9kZWwsCiAgICBJdGVtQ2F0ZWdvcmllcywKICAgIFJlcXVpcmVUYWcsCiAgICBPcHRpb25UYWcsCiAgICBOZXh0QnRuLAogICAgVmFsaWRhdGlvbk9ic2VydmVyCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbUluZGV4OiB0aGlzLiRyb3V0ZS5xdWVyeS5pdGVtX2lkID8gdGhpcy4kcm91dGUucXVlcnkuaXRlbV9pZCA6IDAsCiAgICAgIGJ0bk1lc3NhZ2U6ICLmrKHjgbgiLAogICAgICBzdGVwOiAxLAogICAgICBpbml0aWFsSXRlbURhdGE6IHsKICAgICAgICB0aXRsZTogbnVsbCwKICAgICAgICBjYXRfbHZsMDogbnVsbCwKICAgICAgICBjYXRfbHZsMTogbnVsbCwKICAgICAgICBjYXRfbHZsMjogbnVsbCwKICAgICAgICBpdGVtX2NvbW1lbnQ6IG51bGwKICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKHsKICAgICAgaW1hZ2VMaXN0OiAiaXRlbUluZm9ybWF0aW9uL2dldEltYWdlTGlzdCIsCiAgICAgIGl0ZW1MaXN0OiAiaXRlbUluZm9ybWF0aW9uL2dldEl0ZW1MaXN0IgogICAgfSksCiAgICBpdGVtSW1hZ2UoKSB7CiAgICAgIHJldHVybiB0aGlzLmltYWdlTGlzdFt0aGlzLml0ZW1JbmRleF07CiAgICB9LAogICAgaXRlbURhdGEoKSB7CiAgICAgIHJldHVybiB0aGlzLml0ZW1MaXN0Lmxlbmd0aCA9PT0gMAogICAgICAgID8gdGhpcy5pbml0aWFsSXRlbURhdGEKICAgICAgICA6IHRoaXMuaXRlbUxpc3RbdGhpcy5pdGVtSW5kZXhdOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyh7CiAgICAgIHNhdmVTdG9yZUl0ZW1EYXRhOiAiaXRlbUluZm9ybWF0aW9uL3NhdmVJdGVtTGlzdCIsCiAgICAgIHNhdmVTdG9yZUltYWdlRGF0YTogIml0ZW1JbmZvcm1hdGlvbi9zYXZlSW1hZ2VMaXN0IgogICAgfSksCiAgICBhc3luYyBnb1RvTmV4dCgpIHsKICAgICAgY29uc3QgaXNWYWxpZCA9IGF3YWl0IHRoaXMuJHJlZnMub2JzZXJ2ZXIudmFsaWRhdGUoKTsKICAgICAgaWYgKGlzVmFsaWQpIHsKICAgICAgICBhd2FpdCB0aGlzLnNhdmVJdGVtRGF0YSgpOwogICAgICAgIGF3YWl0IHRoaXMub3Blbkl0ZW1zTGlzdFBhZ2UoKTsKICAgICAgfQogICAgfSwKICAgIHNhdmVJdGVtRGF0YSgpIHsKICAgICAgdGhpcy5pdGVtTGlzdC5zcGxpY2UodGhpcy5pdGVtSW5kZXgsIDEsIHRoaXMuaXRlbURhdGEpOwogICAgICAvLyDnlJ/miJDjgZXjgozjgZ/llYblk4Hjg4fjg7zjgr/jgpJzdG9yZeOBq+S/neWtmOOBmeOCiwogICAgICB0aGlzLnNhdmVTdG9yZUl0ZW1EYXRhKHRoaXMuaXRlbUxpc3QpOwogICAgfSwKICAgIHNhdmVJdGVtSW1hZ2UoKSB7CiAgICAgIC8vIOeUn+aIkOOBleOCjOOBn+WVhuWTgeODh+ODvOOCv+OCknN0b3Jl44Gr5L+d5a2Y44GZ44KLCiAgICAgIHRoaXMuc2F2ZVN0b3JlSW1hZ2VEYXRhKAogICAgICAgIHRoaXMuaW1hZ2VMaXN0LnNwbGljZSh0aGlzLml0ZW1JbmRleCwgMSwgdGhpcy5pdGVtSW1hZ2UpCiAgICAgICk7CiAgICB9LAogICAgb3Blbkl0ZW1zTGlzdFBhZ2UoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKAogICAgICAgICJpdGVtc19saXN0IiwKICAgICAgICAoKSA9PiB7fSwKICAgICAgICAoKSA9PiB7fQogICAgICApOwogICAgfSwKICAgIGNoYW5nZUNhdEx2bDAoY2F0THZsMCkgewogICAgICB0aGlzLml0ZW1EYXRhLmNhdF9sdmwwID0gY2F0THZsMDsKICAgIH0sCiAgICBjaGFuZ2VDYXRMdmwxKGNhdEx2bDEpIHsKICAgICAgdGhpcy5pdGVtRGF0YS5jYXRfbHZsMSA9IGNhdEx2bDE7CiAgICB9LAogICAgY2hhbmdlQ2F0THZsMihjYXRMdmwyKSB7CiAgICAgIHRoaXMuaXRlbURhdGEuY2F0X2x2bDIgPSBjYXRMdmwyOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["ItemInformation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ItemInformation.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div>\n    <process-bar :step=\"step\" />\n    <validation-observer\n      ref=\"observer\"\n      v-slot=\"{ invalid }\"\n      @submit.prevent=\"goToNext()\"\n    >\n      <div class=\"c-page-container\">\n        <div class=\"c-page-title\">\n          <p>商品 {{ itemIndex + 1 }} 情報</p>\n        </div>\n        <div class=\"c-page-row\">\n          <div class=\"c-page-subtitle\">\n            <p>写真</p>\n            <require-tag />\n          </div>\n          <div class=\"c-photo-row\">\n            <div v-for=\"(image, index) in itemImage\" :key=\"index\">\n              <image-upload\n                :image=\"image\"\n                :index=\"index\"\n                :itemIndex=\"itemIndex\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <div class=\"c-page-row\">\n          <div class=\"c-page-subtitle\">\n            <p>商品名</p>\n            <require-tag />\n          </div>\n          <input-model\n            v-model=\"itemData.title\"\n            type=\"text\"\n            placeholder=\"例）SHARP 40インチTV\"\n            value=\"value\"\n            name=\"item-name\"\n            label=\"商品名\"\n          />\n        </div>\n\n        <div class=\"c-page-row\">\n          <div class=\"c-page-subtitle\">\n            <p>カテゴリー</p>\n            <require-tag />\n          </div>\n          <item-categories\n            :itemData=\"itemData\"\n            @submitCatLvl0=\"changeCatLvl0\"\n            @submitCatLvl1=\"changeCatLvl1\"\n            @submitCatLvl2=\"changeCatLvl2\"\n          />\n        </div>\n\n        <div class=\"c-page-row up\">\n          <div class=\"c-page-subtitle\">\n            <p>付属品</p>\n            <option-tag />\n          </div>\n          <textarea-model\n            v-model=\"itemData.item_comment\"\n            placeholder=\"付属品の内容を記入ください\"\n            name=\"item-accessories\"\n            :rows=\"3\"\n            value=\"value\"\n          />\n        </div>\n        <next-btn\n          @goToNext=\"goToNext()\"\n          :message=\"btnMessage\"\n          :class=\"invalid ? 'disabled' : ''\"\n        />\n      </div>\n    </validation-observer>\n  </div>\n</template>\n<script>\nimport { mapGetters } from \"vuex\";\nimport { mapActions } from \"vuex\";\nimport ProcessBar from \"../components/molecules/Processbar\";\nimport ImageUpload from \"./../components/molecules/ImageUpload\";\nimport RequireTag from \"./../components/atoms/RequireTag\";\nimport OptionTag from \"./../components/atoms/OptionTag\";\nimport TextareaModel from \"./../components/atoms/TextareaModel\";\nimport InputText from \"./../components/atoms/InputText\";\nimport ItemCategories from \"./../components/molecules/ItemCategories\";\nimport NextBtn from \"./../components/atoms/NextBtn\";\nimport { extend, ValidationProvider, ValidationObserver } from \"vee-validate\";\nimport { required } from \"vee-validate/dist/rules\";\n\n/* 必須項目のエラーメッセージ設定 */\nrequired.message = \"{_field_}は必須項目です\";\nextend(\"required\", required);\n\nexport default {\n  name: \"ItemInformation\",\n  props: [\"item_id\"],\n  components: {\n    ProcessBar,\n    ImageUpload,\n    InputText,\n    TextareaModel,\n    ItemCategories,\n    RequireTag,\n    OptionTag,\n    NextBtn,\n    ValidationObserver\n  },\n  data() {\n    return {\n      itemIndex: this.$route.query.item_id ? this.$route.query.item_id : 0,\n      btnMessage: \"次へ\",\n      step: 1,\n      initialItemData: {\n        title: null,\n        cat_lvl0: null,\n        cat_lvl1: null,\n        cat_lvl2: null,\n        item_comment: null\n      }\n    };\n  },\n  computed: {\n    ...mapGetters({\n      imageList: \"itemInformation/getImageList\",\n      itemList: \"itemInformation/getItemList\"\n    }),\n    itemImage() {\n      return this.imageList[this.itemIndex];\n    },\n    itemData() {\n      return this.itemList.length === 0\n        ? this.initialItemData\n        : this.itemList[this.itemIndex];\n    }\n  },\n  methods: {\n    ...mapActions({\n      saveStoreItemData: \"itemInformation/saveItemList\",\n      saveStoreImageData: \"itemInformation/saveImageList\"\n    }),\n    async goToNext() {\n      const isValid = await this.$refs.observer.validate();\n      if (isValid) {\n        await this.saveItemData();\n        await this.openItemsListPage();\n      }\n    },\n    saveItemData() {\n      this.itemList.splice(this.itemIndex, 1, this.itemData);\n      // 生成された商品データをstoreに保存する\n      this.saveStoreItemData(this.itemList);\n    },\n    saveItemImage() {\n      // 生成された商品データをstoreに保存する\n      this.saveStoreImageData(\n        this.imageList.splice(this.itemIndex, 1, this.itemImage)\n      );\n    },\n    openItemsListPage() {\n      this.$router.push(\n        \"items_list\",\n        () => {},\n        () => {}\n      );\n    },\n    changeCatLvl0(catLvl0) {\n      this.itemData.cat_lvl0 = catLvl0;\n    },\n    changeCatLvl1(catLvl1) {\n      this.itemData.cat_lvl1 = catLvl1;\n    },\n    changeCatLvl2(catLvl2) {\n      this.itemData.cat_lvl2 = catLvl2;\n    }\n  }\n};\n</script>\n<style></style>\n"]}]}